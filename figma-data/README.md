# 📁 Figma Data

> Figma MCPから取得したデータを保存するフォルダ

---

## 🎯 このフォルダの目的

Figma MCPで取得したデータを**一度ファイルに保存**して、確認・整理してからコード生成に使います。

**メリット:**
- データを目視確認できる
- 不要なデータを削ってトークン節約
- 同じデータで何度もやり直せる
- AIモデルへの入力を最適化
- **Figma品質が悪くても、数値データは再利用できる**

---

## 🔄 基本ワークフロー

```
┌─────────────────────────────────────────────────────┐
│ 1. MCPでデータ取得 & 品質チェック                     │
│    → AIが「良いFigma / 悪いFigma」を判断して報告      │
└─────────────────────────────────────────────────────┘
                      │
        ┌─────────────┴─────────────┐
        ▼                           ▼
  【良いFigma】                【悪いFigma】
  Auto Layout あり             構造が崩れてる
  レイヤー名が意味ある          DX→Figma変換など
        │                           │
        ▼                           ▼
┌──────────────────┐      ┌──────────────────────────┐
│ MCPデータから      │      │ 画像メイン + MCP数値      │
│ 構造 + 数値        │      │ ・レイアウトは画像から     │
│ → HTML生成        │      │ ・色/フォント/余白はMCPから │
└──────────────────┘      └──────────────────────────┘
                      │
                      ▼
           ┌──────────────────┐
           │ static-preview/   │
           │ HTML + SCSS       │
           └──────────────────┘
                      │
                      ▼
           ┌──────────────────┐
           │ PHP化（WordPress） │
           └──────────────────┘
```

### ポイント

- **最初にMCPで取得** → 品質が悪くても数値は使える
- **AIが品質を判断** → ユーザーは判断しなくてOK
- **最終決定はユーザー** → 「画像でやって」「MCPで試して」

---

## 📋 保存するファイル

各セクションごとに2種類のファイルを作成：

| ファイル | 用途 |
|----------|------|
| `[セクション名].json` | MCPから取得した生データ（正確な値の参照用） |
| `[セクション名].md` | 人間が読みやすい形式（確認・編集用） |

### 悪いFigmaの場合の追加ファイル

| ファイル | 用途 |
|----------|------|
| `[セクション名]-values.md` | 数値だけ抽出（色、フォント、余白）|

### 例

```
figma-data/
├── README.md
├── _template.md          # MDのテンプレート
├── style-guide.json
├── style-guide.md
├── header.json
├── header.md
├── header-values.md      # ← 悪いFigmaの時、数値だけ抽出
├── hero.json
├── hero.md
└── ...
```

---

## 📝 プロンプト集

### 1. 品質チェック & データ保存（最初に実行）

```
@Figma
Node ID: [NODE_ID] のデータを取得して、
figma-data/[セクション名].json に保存してください。

保存後、以下を報告してください：
1. Figmaの品質評価（良い/悪い）
   - Auto Layoutの有無
   - レイヤー名の意味（「Rectangle 1」等はNG）
2. 推奨アプローチ
   - 良い場合: 「MCPデータから構造・数値を使ってHTML生成できます」
   - 悪い場合: 「画像ベース + MCP数値のハイブリッドがおすすめです」

コード生成はまだしないでください。
```

### 2. MD変換（良いFigmaの場合）

```
figma-data/[セクション名].json を読み込んで、
figma-data/[セクション名].md に人間が読みやすい形式で整理してください。

含める情報:
- 構造（親子関係）
- サイズ（width, height）
- 色（fill, stroke）
- テキスト内容
- フォント情報
- 余白・ギャップ

不要な情報:
- 内部ID
- 絶対座標（x, y）※レイアウト推論に不要な場合
```

### 3. 数値だけ抽出（悪いFigmaの場合）

```
figma-data/[セクション名].json から、
以下の数値情報だけ抽出して figma-data/[セクション名]-values.md に保存してください。

抽出する情報:
- 色（fills の色コード）
- フォント（fontSize, fontFamily, fontWeight）
- テキスト内容（characters）
- 余白・ギャップ（paddingLeft, paddingTop, itemSpacing 等）

構造やレイアウト情報は不要です。
この数値は、画像ベースでHTML生成する際に参照します。
```

---

## 💡 Tips

### JSONが大きすぎる場合

MCPから取得したデータが大きすぎる場合は、必要な部分だけ抽出：

```
figma-data/[セクション名].json から、
以下の情報だけ抽出してMDにまとめてください:

- 直接の子要素の構造
- 色とフォント
- テキスト内容
```

### 画像ベースでHTML生成する場合

1. Figmaからセクションのスクリーンショット or PNG書き出し
2. `figma-data/[セクション名]-values.md` を参照しながら
3. 画像を見せて「この画像を再現するHTMLを書いて。色とフォントは values.md を参照して」

---

## ⚠️ 注意

- このフォルダは**案件固有のデータ**が入ります
- テンプレートに戻す際は中身を削除してください（README, _template.md は残す）

